##
##  CONSTANTS
##
#foreach ($field in $action.actionFormFields)
#if($field.required || ($field.validatorsStruts2 && !$field.validatorsStruts2.isEmpty()))
#set($gerar = true)
#end
#end
#if($struts2 == "true")
#if($applicationUseCases)
#if($modulo == 'true')
#set($gerar = false)
#end
#end
#else
#set($gerar = false)
#end
#if(${action.useCase.name} == ${action.actionClassName})
#set($gerar = false)
#end
##
##  START TEMPLATE
##
#if($gerar)
#set($dollar = '$')
#set ($generatedFile = "${action.fullActionPath}-validation.xml")
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE validators PUBLIC
"-//OpenSymphony Group//XWork Validator 1.0.2//EN"
"http://www.opensymphony.com/xwork/xwork-validator-1.0.2.dtd">
<!-- Generated by bpm4struts2/configuration/validator.xml.vsl-->
<validators>
#foreach ($field in $action.actionFormFields)
#if(${field.required} || ($field.validatorsStruts2 && !$field.validatorsStruts2.isEmpty()) )

	<field name="${field.name}">
		
#if(${field.required})
#if(${field.type.name}=="String")
		<field-validator type="requiredstring">
			<message>${dollar}{getText("errors.requiredstring",{'${field.name}'})}</message>
		</field-validator>
		
#end
		<field-validator type="required">
			<message>${dollar}{getText("errors.required",{'${field.name}'})}</message>
		</field-validator>
		
#end
#if($field.validatorsStruts2 && !$field.validatorsStruts2.isEmpty())
#if(${field.type.name}=="Date")
		<field-validator type="date">
#end
#if(${field.type.name}=="int" || ${field.type.name}=="Integer")
		<field-validator type="int">
#end
#if(${field.type.name}=="long" || ${field.type.name}=="Long")
		<field-validator type="long">
#end
#if(${field.type.name}=="float" || ${field.type.name}=="Float" ||	${field.type.name}=="double" || ${field.type.name}=="Double" )
		<field-validator type="double">
#end
#end
##
##
#foreach ($validatorVar in $field.validatorsStruts2)
#if ($validatorVar.get(0)=="range" && (${field.type.name}=="long" || ${field.type.name}=="Long" || ${field.type.name}=="int" || ${field.type.name}=="Integer"))
			<param name="min">$validatorVar.get(1)</param>
			<param name="max">$validatorVar.get(2)</param>
			<message>${dollar}{getText("errors.range",{'${field.name}','$validatorVar.get(1)','$validatorVar.get(2)'})}</message>

#elseif ($validatorVar.get(0)=="range" && (${field.type.name}=="float" || ${field.type.name}=="Float" ||	${field.type.name}=="double" || ${field.type.name}=="Double"))
			<param name="minInclusive">$validatorVar.get(1)</param>
			<param name="maxInclusive">$validatorVar.get(2)</param>
			<message>${dollar}{getText("errors.range",{'${field.name}','$validatorVar.get(1)','$validatorVar.get(2)'})}</message>

#elseif ($validatorVar.get(0)=="daterange" && ${field.type.name}=="String")
			<param name="min">$validatorVar.get(1)</param>
			<param name="max">$validatorVar.get(2)</param>
			<message>${dollar}{getText("errors.daterange",{'${field.name}','$validatorVar.get(1)','$validatorVar.get(2)'})}</message>

#end
#end
##
##
#if($field.validatorsStruts2 && !$field.validatorsStruts2.isEmpty())
#if(${field.type.name}=="Date" || 	${field.type.name}=="int" || ${field.type.name}=="Integer" || 	${field.type.name}=="float" || ${field.type.name}=="Float" ||	${field.type.name}=="double" || ${field.type.name}=="Double" )
		</field-validator>

#end
#end
##
##
#foreach ($validatorVar in $field.validatorsStruts2)
#if ($validatorVar.get(0)=="mask")
		<field-validator type="regex">
			<param name="expression">$validatorVar.get(1)</param>
			<message>${dollar}{getText("errors.pattern",{'${field.name}'})}</message>
		</field-validator>
#elseif ($validatorVar.get(0)=="email" && ${field.type.name}=="String")
		<field-validator type="email">
			<message>${dollar}{getText("errors.email",{'${field.name}'})}</message>
		</field-validator>
#elseif ($validatorVar.get(0)=="minlength" && ${field.type.name}=="String")
		<field-validator type="stringlength">
			<param name="minLength">$validatorVar.get(1)</param>
			<message>${dollar}{getText("errors.minlength",{'${field.name}','$validatorVar.get(1)'})}</message>
		</field-validator>
#elseif ($validatorVar.get(0)=="maxlength" && ${field.type.name}=="String")
		<field-validator type="stringlength">
			<param name="maxLength">$validatorVar.get(1)</param>
			<message>${dollar}{getText("errors.maxlength",{'${field.name}','$validatorVar.get(1)'})}</message>
		</field-validator>
#end

#end
	</field>
#end
#end
</validators>
#end